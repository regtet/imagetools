# 图片处理工具

一个功能强大的在线图片处理工具，提供专业的图片编辑功能，支持裁剪、颜色替换等操作。所有功能均在浏览器本地完成，无需上传到服务器，保护您的隐私。

![主界面截图](./image1.png)
![主界面截图](./image2.png)
## ✨ 功能特性

### 🖼️ 图片裁剪工具
- **精确裁剪**：支持手动输入坐标和尺寸进行精确裁剪
- **可视化操作**：集成 Cropper.js，提供直观的拖拽裁剪体验
- **实时预览**：裁剪参数实时更新，所见即所得
- **预设管理**：
  - 内置2个常用预设值（55,0,341,65 和 65,0,411,65）
  - 支持保存自定义预设，可命名管理
  - 预设数据保存在浏览器本地，下次使用自动加载
  - 支持批量删除预设
- **高质量输出**：保持原图质量，支持 PNG 格式下载
- **拖拽上传**：支持拖拽文件上传，操作便捷

### 🎨 颜色替换工具
- **批量处理**：支持同时上传多张图片进行批量颜色替换
- **实时预览**：颜色参数调整时，所有图片实时显示替换效果
- **网格显示**：图片以网格形式展示，所有效果一目了然
- **智能容差**：可调节颜色匹配容差（0-441），精确控制替换范围
- **多格式支持**：支持十六进制（#ff0000）、命名颜色（red）、RGB（rgb(255,0,0)）等多种颜色格式
- **颜色预览**：提供颜色圆圈预览，直观显示原色和目标色
- **状态指示**：
  - 蓝色边框标识当前选中图片
  - 绿色圆点表示已处理完成
  - 黄色圆点表示处理中
- **批量下载**：支持单张下载或一键批量下载所有处理后的图片
- **文件计数**：显示已上传文件总数

## 🚀 使用方法

### 图片裁剪
1. 点击"图片裁剪"标签页
2. 拖拽或点击上传需要裁剪的图片
3. 使用可视化裁剪框调整裁剪区域，或：
   - 手动输入坐标参数（X、Y、W、H）
   - 点击预设按钮快速应用常用参数
   - 保存当前参数为自定义预设供以后使用
4. 点击"应用裁剪"确认裁剪区域
5. 点击"下载裁剪后的图片"保存结果

#### 预设管理
- **使用固定预设**：直接点击"预设1"或"预设2"按钮
- **保存自定义预设**：
  1. 调整好裁剪参数
  2. 点击"保存当前值为预设"
  3. 输入预设名称（如"Logo区域"、"头像裁剪"等）
  4. 确认保存，橙色预设按钮会立即出现
- **管理预设**：
  1. 点击"管理预设"按钮
  2. 查看所有自定义预设列表
  3. 输入要删除的预设编号（多个用逗号分隔，如：1,3,5）
  4. 确认删除

### 颜色替换
1. 点击"颜色替换"标签页
2. 拖拽或点击上传图片（支持多选）
3. 上传后所有图片以网格形式显示
4. 设置颜色参数：
   - **原颜色**：要被替换的颜色，支持多种格式：
     - 十六进制：`#000000`、`#000`
     - 命名颜色：`black`、`red`、`blue`、`white`、`green` 等
     - RGB格式：`rgb(0,0,0)`、`rgba(0,0,0,1)`
   - **目标颜色**：替换后的颜色（支持相同格式）
   - **容差**：颜色匹配范围，值越大匹配范围越广（推荐30-100）
5. 调整参数时，所有图片实时显示替换效果
6. 点击任意图片可以标记为当前选中（蓝色边框）
7. 下载选项：
   - 点击"下载修改后的图片"下载当前选中图片
   - 点击"下载所有图片"批量下载所有处理后的图片

## 🛠️ 技术栈

- **前端框架**：原生 HTML5 + CSS3 + JavaScript
- **图片处理**：Canvas API
- **裁剪功能**：Cropper.js
- **数据存储**：localStorage（本地存储预设数据）
- **UI设计**：现代化响应式设计
- **浏览器兼容**：支持现代浏览器（Chrome、Firefox、Edge、Safari）

## 📁 项目结构

```
├── index.html          # 主页面文件（包含所有HTML、CSS、JavaScript）
├── README.md           # 项目说明文档
└── .gitignore          # Git忽略文件配置
```

## 🎯 特色功能

### 界面设计
- **标签页布局**：清晰的功能分类，避免界面混乱，易于扩展新功能
- **响应式设计**：适配不同屏幕尺寸，支持移动端访问
- **现代化UI**：简洁美观的界面设计，流畅的动画效果

### 用户体验
- **拖拽上传**：支持拖拽文件上传，提升用户体验
- **实时预览**：所有操作都有实时反馈，所见即所得
- **批量处理**：颜色替换支持批量操作，大幅提高工作效率
- **防抖优化**：颜色调整时使用防抖技术，避免频繁计算影响性能

### 数据管理
- **本地存储**：裁剪预设数据保存在浏览器localStorage
- **持久化**：关闭浏览器后数据不丢失，下次打开自动加载
- **隐私保护**：所有图片处理在本地完成，不上传服务器

## 🔧 默认配置

### 裁剪工具内置预设
- **预设1**：X=55, Y=0, W=341, H=65
- **预设2**：X=65, Y=0, W=411, H=65

### 颜色替换默认参数
- **原颜色**：#000000（黑色）
- **目标颜色**：#ff0000（红色）
- **容差**：999（最大容差，可根据需要调整）

## 💡 使用技巧

### 裁剪工具
1. **精确裁剪**：需要精确尺寸时，直接输入数值比拖拽更准确
2. **预设复用**：对于经常使用的裁剪尺寸，保存为预设可以大幅提高效率
3. **预设命名**：使用有意义的名称（如"微信头像"、"公众号封面"）方便识别

### 颜色替换
1. **容差调整**：
   - 小容差（10-30）：精确替换特定颜色
   - 中容差（50-100）：替换相近颜色
   - 大容差（200+）：替换大范围颜色
2. **颜色输入技巧**：
   - 使用十六进制快速输入常见颜色：`#000000`（黑）、`#ffffff`（白）、`#ff0000`（红）
   - 使用命名颜色更直观：`black`、`white`、`red`、`blue`、`green`、`yellow`
   - 使用RGB格式精确控制：`rgb(255,0,0)`
3. **批量处理**：先用一张图片调试好参数，再批量上传所有图片
4. **实时预览**：调整参数时注意观察预览效果，找到最佳容差值

## 📝 更新日志

### v2.6.0（当前版本）
- ✨ 颜色替换工具支持多种颜色格式
  - 十六进制格式：`#ff0000`、`#f00`
  - 命名颜色：`red`、`blue`、`black`、`white`、`green` 等CSS标准颜色
  - RGB格式：`rgb(255,0,0)`、`rgba(255,0,0,1)`
  - 自动转换和验证颜色格式
- 🎨 优化颜色输入体验，添加格式提示和示例

### v2.5.0
- ✨ 新增裁剪预设管理功能
  - 内置2个固定预设值
  - 支持保存自定义预设（带命名）
  - 预设数据持久化存储（localStorage）
  - 支持批量删除预设
- ✨ 优化颜色替换工具
  - 实现图片网格实时预览
  - 移除单独预览区域，界面更简洁
  - 点击切换图片时保持处理效果
  - 添加防抖优化，提升性能
- 🐛 修复图片裁剪"应用裁剪"按钮无反应问题
- 🐛 修复批量上传文件展示异常问题
- 🎨 优化界面布局和交互体验

### v2.0.0
- ✨ 新增标签页界面设计
- ✨ 颜色替换工具支持批量处理
- ✨ 实现实时颜色替换功能
- ✨ 添加颜色预览功能
- ✨ 添加文件计数和状态指示
- 🎨 优化整体UI设计
- 📚 完善项目文档

### v1.0.0
- 🎉 初始版本发布
- ✨ 基础图片裁剪功能
- ✨ 基础颜色替换功能

## ⚠️ 注意事项

1. **浏览器兼容性**：建议使用 Chrome、Firefox、Edge 等现代浏览器
2. **文件大小**：建议单张图片不超过 10MB，批量处理建议不超过 20 张
3. **数据存储**：自定义预设数据存储在浏览器localStorage，清除浏览器数据会导致预设丢失
4. **隐私安全**：所有图片处理在本地浏览器完成，不会上传到任何服务器

## 🔮 未来计划

- [ ] 添加更多图片处理功能（旋转、翻转、滤镜等）
- [ ] 支持预设导入/导出功能
- [ ] 添加图片压缩功能
- [ ] 支持更多图片格式（WEBP、AVIF等）
- [ ] 添加批处理进度显示
- [ ] 支持快捷键操作

## 🤝 贡献

欢迎提交 Issue 和 Pull Request 来帮助改进这个项目！

### 贡献指南
1. Fork 本项目
2. 创建特性分支 (`git checkout -b feature/AmazingFeature`)
3. 提交更改 (`git commit -m 'Add some AmazingFeature'`)
4. 推送到分支 (`git push origin feature/AmazingFeature`)
5. 打开 Pull Request

## 📄 许可证

MIT License

## 💬 反馈与支持

如果您在使用过程中遇到问题或有任何建议，欢迎：
- 提交 GitHub Issue
- 发送邮件反馈
- 在项目中提交 Pull Request

---

**享受便捷的图片处理体验！** 🎉
