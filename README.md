# 图片处理工具

一个功能强大的在线图片处理工具，提供专业的图片编辑功能，支持裁剪、颜色替换、格式转换等操作。所有功能均在浏览器本地完成，无需上传到服务器，保护您的隐私。

![主界面截图](./image1.png)
![主界面截图](./image2.png)
## ✨ 功能特性

### 🖼️ 图片裁剪工具
- **精确裁剪**：支持手动输入坐标和尺寸进行精确裁剪
- **可视化操作**：集成 Cropper.js，提供直观的拖拽裁剪体验
- **实时预览**：裁剪参数实时更新，所见即所得
- **预设管理**：
  - 内置2个常用预设值（55,0,341,65 和 65,0,411,65）
  - 支持保存自定义预设，可命名管理
  - 预设数据保存在浏览器本地，下次使用自动加载
  - 支持批量删除预设
- **高质量输出**：保持原图质量，支持 PNG 格式下载
- **拖拽上传**：支持拖拽文件上传，操作便捷

### 🎨 颜色替换工具
- **批量处理**：支持同时上传多张图片进行批量颜色替换
- **实时预览**：颜色参数调整时，所有图片实时显示替换效果
- **网格显示**：图片以网格形式展示，所有效果一目了然
- **智能容差**：可调节颜色匹配容差（0-441），精确控制替换范围
- **多格式支持**：支持十六进制（#ff0000）、命名颜色（red）、RGB（rgb(255,0,0)）等多种颜色格式
- **颜色预览**：提供颜色圆圈预览，直观显示原色和目标色
- **状态指示**：
  - 蓝色边框标识当前选中图片
  - 绿色圆点表示已处理完成
  - 黄色圆点表示处理中
- **批量下载**：支持单张下载或一键批量下载所有处理后的图片
- **文件计数**：显示已上传文件总数

### 🔄 批量重命名工具
- **批量转换**：支持同时上传多张图片进行格式转换
- **多格式支持**：支持主流图片格式互转
  - PNG - 无损格式，支持透明度
  - JPG/JPEG - 高压缩比，适合照片
  - WEBP - 现代Web格式，体积小质量高
  - AVIF - 新一代图片格式，压缩率极高
  - BMP - 位图格式，无压缩
  - GIF - 支持动画的图片格式
- **质量控制**：可调节输出质量（1-100%），适用于JPG、WEBP、AVIF格式
- **实时转换**：上传后自动转换，切换格式即时生效
- **列表预览**：
  - 显示缩略图预览
  - 对比原文件名和新文件名
  - 实时显示转换状态（准备/完成/失败）
- **智能处理**：
  - 自动识别格式特性（PNG、BMP、GIF使用无损处理）
  - 保留原文件名，仅更改扩展名
- **批量下载**：一键下载所有转换后的图片
- **拖拽上传**：支持拖拽文件上传，操作便捷

## 🚀 使用方法

### 图片裁剪
1. 点击"图片裁剪"标签页
2. 拖拽或点击上传需要裁剪的图片
3. 使用可视化裁剪框调整裁剪区域，或：
   - 手动输入坐标参数（X、Y、W、H）
   - 点击预设按钮快速应用常用参数
   - 保存当前参数为自定义预设供以后使用
4. 点击"应用裁剪"确认裁剪区域
5. 点击"下载裁剪后的图片"保存结果

#### 预设管理
- **使用固定预设**：直接点击"预设1"或"预设2"按钮
- **保存自定义预设**：
  1. 调整好裁剪参数
  2. 点击"保存当前值为预设"
  3. 输入预设名称（如"Logo区域"、"头像裁剪"等）
  4. 确认保存，橙色预设按钮会立即出现
- **管理预设**：
  1. 点击"管理预设"按钮
  2. 查看所有自定义预设列表
  3. 输入要删除的预设编号（多个用逗号分隔，如：1,3,5）
  4. 确认删除

### 颜色替换
1. 点击"颜色替换"标签页
2. 拖拽或点击上传图片（支持多选）
3. 上传后所有图片以网格形式显示
4. 设置颜色参数：
   - **原颜色**：要被替换的颜色，支持多种格式：
     - 十六进制：`#000000`、`#000`
     - 命名颜色：`black`、`red`、`blue`、`white`、`green` 等
     - RGB格式：`rgb(0,0,0)`、`rgba(0,0,0,1)`
   - **目标颜色**：替换后的颜色（支持相同格式）
   - **容差**：颜色匹配范围，值越大匹配范围越广（推荐30-100）
5. 调整参数时，所有图片实时显示替换效果
6. 点击任意图片可以标记为当前选中（蓝色边框）
7. 下载选项：
   - 点击"下载修改后的图片"下载当前选中图片
   - 点击"下载所有图片"批量下载所有处理后的图片

### 批量重命名
1. 点击"批量重命名"标签页
2. 拖拽或点击上传图片（支持多选）
3. 上传后图片会自动以列表形式显示，包含：
   - 缩略图预览
   - 原文件名
   - 新文件名（根据目标格式自动生成）
   - 转换状态
4. 选择目标格式：
   - 点击彩色格式按钮（PNG、JPG、WEBP、AVIF、BMP、GIF）快速选择
   - 或使用下拉菜单选择目标格式
5. 调整图片质量（可选）：
   - 拖动质量滑块（1-100%），默认92%
   - 仅对JPG、WEBP、AVIF格式有效
   - PNG、BMP、GIF自动使用无损处理
6. 系统会自动转换所有图片，并显示转换状态：
   - ✓ 转换完成（绿色）
   - ✗ 转换失败（红色）
7. 点击"下载所有转换后的图片"批量下载

#### 格式说明
- **PNG**：无损格式，支持透明度，适合图标、logo、截图
- **JPG**：有损压缩，体积小，适合照片和复杂图片
- **WEBP**：现代格式，压缩率高，质量好，适合网页使用
- **AVIF**：最新格式，压缩率极高，质量优秀，适合追求极致体积
- **BMP**：无压缩位图，体积大，兼容性好
- **GIF**：支持动画，但颜色限制256色

## 🛠️ 技术栈

- **前端框架**：原生 HTML5 + CSS3 + JavaScript
- **图片处理**：Canvas API
  - 图片裁剪与绘制
  - 像素级颜色处理
  - 多格式转换（PNG、JPG、WEBP、AVIF、BMP、GIF）
- **裁剪功能**：Cropper.js
- **数据存储**：localStorage（本地存储预设数据）
- **UI设计**：现代化响应式设计
- **浏览器兼容**：支持现代浏览器（Chrome、Firefox、Edge、Safari）

## 📁 项目结构

```
├── index.html          # 主页面文件（包含所有HTML、CSS、JavaScript）
├── README.md           # 项目说明文档
└── .gitignore          # Git忽略文件配置
```

## 🎯 特色功能

### 界面设计
- **标签页布局**：清晰的功能分类，避免界面混乱，易于扩展新功能
- **响应式设计**：适配不同屏幕尺寸，支持移动端访问
- **现代化UI**：简洁美观的界面设计，流畅的动画效果

### 用户体验
- **拖拽上传**：所有工具都支持拖拽文件上传，提升用户体验
- **实时预览**：所有操作都有实时反馈，所见即所得
- **批量处理**：颜色替换和格式转换支持批量操作，大幅提高工作效率
- **防抖优化**：颜色调整时使用防抖技术，避免频繁计算影响性能
- **智能转换**：自动识别不同格式特性，针对性优化转换参数

### 数据管理
- **本地存储**：裁剪预设数据保存在浏览器localStorage
- **持久化**：关闭浏览器后数据不丢失，下次打开自动加载
- **隐私保护**：所有图片处理在本地完成，不上传服务器

## 🔧 默认配置

### 裁剪工具内置预设
- **预设1**：X=55, Y=0, W=341, H=65
- **预设2**：X=65, Y=0, W=411, H=65

### 颜色替换默认参数
- **原颜色**：#000000（黑色）
- **目标颜色**：#ff0000（红色）
- **容差**：999（最大容差，可根据需要调整）

## 💡 使用技巧

### 裁剪工具
1. **精确裁剪**：需要精确尺寸时，直接输入数值比拖拽更准确
2. **预设复用**：对于经常使用的裁剪尺寸，保存为预设可以大幅提高效率
3. **预设命名**：使用有意义的名称（如"微信头像"、"公众号封面"）方便识别

### 颜色替换
1. **容差调整**：
   - 小容差（10-30）：精确替换特定颜色
   - 中容差（50-100）：替换相近颜色
   - 大容差（200+）：替换大范围颜色
2. **颜色输入技巧**：
   - 使用十六进制快速输入常见颜色：`#000000`（黑）、`#ffffff`（白）、`#ff0000`（红）
   - 使用命名颜色更直观：`black`、`white`、`red`、`blue`、`green`、`yellow`
   - 使用RGB格式精确控制：`rgb(255,0,0)`
3. **批量处理**：先用一张图片调试好参数，再批量上传所有图片
4. **实时预览**：调整参数时注意观察预览效果，找到最佳容差值

### 批量重命名
1. **格式选择技巧**：
   - **保持透明度**：PNG → WEBP 或 PNG → AVIF
   - **减小体积**：PNG/BMP → JPG 或 PNG → WEBP
   - **网页优化**：JPG/PNG → WEBP（体积减少30-50%）
   - **极致压缩**：任意格式 → AVIF（体积最小，但兼容性稍差）
2. **质量参数建议**：
   - 92%（默认）：平衡质量和体积，适合大多数场景
   - 85-90%：体积更小，质量损失不明显
   - 95-100%：接近无损，体积较大
   - 60-80%：网页缩略图、预览图
3. **批量处理**：可以一次性上传大量图片统一转换格式
4. **浏览器兼容性**：
   - PNG、JPG、BMP、GIF：所有浏览器支持
   - WEBP：现代浏览器支持（Chrome、Firefox、Edge、Safari 14+）
   - AVIF：较新浏览器支持（Chrome 85+、Firefox 93+）

## 📝 更新日志

### v3.0.0（当前版本）
- ✨ 新增批量重命名工具（图片格式转换）
  - 支持PNG、JPG、WEBP、AVIF、BMP、GIF多种格式互转
  - 可调节输出质量（1-100%），适用于有损压缩格式
  - 列表式界面，显示缩略图、原文件名、新文件名对比
  - 实时转换状态提示（准备/完成/失败）
  - 智能处理不同格式特性（无损/有损）
  - 支持批量下载所有转换后的图片
  - 彩色格式按钮快速选择
- 🎨 完善界面设计，增强用户体验
- 📚 更新文档，添加格式选择和质量调整使用技巧

### v2.6.0
- ✨ 颜色替换工具支持多种颜色格式
  - 十六进制格式：`#ff0000`、`#f00`
  - 命名颜色：`red`、`blue`、`black`、`white`、`green` 等CSS标准颜色
  - RGB格式：`rgb(255,0,0)`、`rgba(255,0,0,1)`
  - 自动转换和验证颜色格式
- 🎨 优化颜色输入体验，添加格式提示和示例

### v2.5.0
- ✨ 新增裁剪预设管理功能
  - 内置2个固定预设值
  - 支持保存自定义预设（带命名）
  - 预设数据持久化存储（localStorage）
  - 支持批量删除预设
- ✨ 优化颜色替换工具
  - 实现图片网格实时预览
  - 移除单独预览区域，界面更简洁
  - 点击切换图片时保持处理效果
  - 添加防抖优化，提升性能
- 🐛 修复图片裁剪"应用裁剪"按钮无反应问题
- 🐛 修复批量上传文件展示异常问题
- 🎨 优化界面布局和交互体验

### v2.0.0
- ✨ 新增标签页界面设计
- ✨ 颜色替换工具支持批量处理
- ✨ 实现实时颜色替换功能
- ✨ 添加颜色预览功能
- ✨ 添加文件计数和状态指示
- 🎨 优化整体UI设计
- 📚 完善项目文档

### v1.0.0
- 🎉 初始版本发布
- ✨ 基础图片裁剪功能
- ✨ 基础颜色替换功能

## ⚠️ 注意事项

1. **浏览器兼容性**：建议使用 Chrome、Firefox、Edge 等现代浏览器
   - WEBP格式：需要Chrome、Firefox、Edge或Safari 14+
   - AVIF格式：需要Chrome 85+、Firefox 93+或较新版本
2. **文件大小**：建议单张图片不超过 10MB，批量处理建议不超过 20 张
3. **数据存储**：自定义预设数据存储在浏览器localStorage，清除浏览器数据会导致预设丢失
4. **隐私安全**：所有图片处理在本地浏览器完成，不会上传到任何服务器
5. **格式转换**：
   - GIF转换为其他格式会丢失动画，只保留第一帧
   - 转换为JPG会丢失透明度信息（透明区域变为白色）
   - 建议使用PNG或WEBP保持透明度

## 🔮 未来计划

- [ ] 添加更多图片处理功能（旋转、翻转、滤镜等）
- [ ] 支持预设导入/导出功能
- [ ] 添加图片压缩优化功能（智能压缩）
- [ ] 添加批处理进度显示
- [ ] 支持快捷键操作
- [ ] 添加图片尺寸调整功能
- [ ] 支持水印添加功能
- [ ] 支持ZIP批量打包下载

## 🤝 贡献

欢迎提交 Issue 和 Pull Request 来帮助改进这个项目！

### 贡献指南
1. Fork 本项目
2. 创建特性分支 (`git checkout -b feature/AmazingFeature`)
3. 提交更改 (`git commit -m 'Add some AmazingFeature'`)
4. 推送到分支 (`git push origin feature/AmazingFeature`)
5. 打开 Pull Request

## 📄 许可证

MIT License

## 💬 反馈与支持

如果您在使用过程中遇到问题或有任何建议，欢迎：
- 提交 GitHub Issue
- 发送邮件反馈
- 在项目中提交 Pull Request

---

**享受便捷的图片处理体验！** 🎉
